(function(e,a){if("function"===typeof define&&define.amd)define(["underscore","backbone"],function(h,b){a(h,b)});else if("undefined"!==typeof exports){var g=require("underscore"),d=require("backbone");a(g,d)}else a(e._,e.Backbone)})(this,function(e,a){a.Model.extend=a.Collection.extend=a.Router.extend=a.View.extend=function(h,b){var a=d(this,h,b);a.extend=this.extend;return a};var g=function(){},d=function(a,b,d){var c,k=a.prototype,l=/\b_super\b/;c=b&&b.hasOwnProperty("constructor")?b.constructor: function(){return a.apply(this,arguments)};e.extend(c,a,d);g.prototype=a.prototype;c.prototype=new g;if(b){e.extend(c.prototype,b);for(var f in b)"function"==typeof b[f]&&l.test(b[f])&&(c.prototype[f]=function(a,b){var c=function(){var d=this._super,c;if(!(c=k[a]))throw"Super does not implement this method: "+a;this._super=c;var e;try{e=b.apply(this,arguments)}finally{this._super=d}return e},d;for(d in b)c[d]=b[d],delete b[d];return c}(f,b[f]))}d&&e.extend(c,d);c.prototype.constructor=c;c.__super__= a.prototype;return c};return d});
